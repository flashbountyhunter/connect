!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TrezorConnect=t():e.TrezorConnect=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=931)}({1:function(e,t,n){e.exports=n(117)},100:function(e,t,n){t.f=n(4)},101:function(e,t,n){var r=n(3),o=n(6),i=n(34),s=n(100),a=n(19).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},102:function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};f.prototype.append=function(e,t){e=a(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},f.prototype.delete=function(e){delete this.map[a(e)]},f.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},f.prototype.set=function(e,t){this.map[a(e)]=u(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var s=[301,302,303,307,308];g.redirect=function(e,t){if(-1===s.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=m,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,o){var i=new m(e,n),s=new XMLHttpRequest;s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new g(o,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&t.blob&&(s.responseType="blob"),i.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===i._bodyInit?null:i._bodyInit)})},e.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=l(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var n,r,o=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},108:function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof e,f=t.regeneratorRuntime;if(f)c&&(e.exports=f);else{(f=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},m={};m[s]=function(){return this};var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==r&&o.call(g,s)&&(m=g);var w=T.prototype=E.prototype=Object.create(m);S.prototype=w.constructor=T,T.constructor=S,T[u]=S.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,T):(e.__proto__=T,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(w),e},f.awrap=function(e){return{__await:e}},O(N.prototype),N.prototype[a]=function(){return this},f.AsyncIterator=N,f.async=function(e,t,n,r){var o=new N(_(e,t,n,r));return f.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},O(w),w[u]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(e,t,n,r){var o=t&&t.prototype instanceof E?t:E,i=Object.create(o.prototype),s=new x(r||[]);return i._invoke=function(e,t,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=P(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=b(e,t,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,s),i}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function E(){}function S(){}function T(){}function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function N(e){var t;this._invoke=function(n,r){function i(){return new Promise(function(t,i){!function t(n,r,i,s){var a=b(e[n],e,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,s)},function(e){t("throw",e,i,s)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},s)}s(a.arg)}(n,r,t,i)})}return t=t?t.then(i,i):i()}}function P(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,P(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=b(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,v;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:M}}function M(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},109:function(e,t,n){"use strict";t.__esModule=!0;t.INIT="popup-init",t.BOOTSTRAP="popup-bootstrap",t.EXTENSION_REQUEST="popup-extension_request",t.EXTENSION_USB_PERMISSIONS="open-usb-permissions",t.LOG="popup-log",t.OPENED="popup-opened",t.OPEN_TIMEOUT="popup-open_timeout",t.HANDSHAKE="popup-handshake",t.CLOSE="popup-close",t.CLOSED="popup-closed",t.CANCEL_POPUP_REQUEST="ui-cancel-popup-request"},11:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(99),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},115:function(e,t,n){var r=n(29),o=n(64),i=n(116);e.exports=function(e){return function(t,n,s){var a,u=r(t),c=o(u.length),f=i(s,c);if(e&&n!=n){for(;c>f;)if((a=u[f++])!=a)return!0}else for(;c>f;f++)if((e||f in u)&&u[f]===n)return e||f||0;return!e&&-1}}},116:function(e,t,n){var r=n(48),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},117:function(e,t,n){var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(108),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},118:function(e,t,n){e.exports={default:n(119),__esModule:!0}},119:function(e,t,n){n(89),n(90),n(92),n(127),n(139),n(140),e.exports=n(6).Promise},12:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(198)),o=s(n(202)),i=s(n(99));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},120:function(e,t,n){var r=n(48),o=n(47);e.exports=function(e){return function(t,n){var i,s,a=String(o(t)),u=r(n),c=a.length;return u<0||u>=c?e?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?e?a.charAt(u):i:e?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}}},121:function(e,t,n){"use strict";var r=n(62),o=n(43),i=n(38),s={};n(14)(s,n(4)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},122:function(e,t,n){var r=n(19),o=n(9),i=n(55);e.exports=n(17)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,u=0;a>u;)r.f(e,n=s[u++],t[n]);return e}},123:function(e,t,n){var r=n(20),o=n(88),i=n(49)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},124:function(e,t,n){"use strict";var r=n(125),o=n(126),i=n(27),s=n(29);e.exports=n(66)(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},125:function(e,t){e.exports=function(){}},126:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},127:function(e,t,n){"use strict";var r,o,i,s,a=n(34),u=n(3),c=n(31),f=n(68),l=n(16),d=n(13),p=n(35),h=n(128),v=n(129),m=n(69),y=n(70).set,g=n(134)(),w=n(50),_=n(71),b=n(135),E=n(72),S=u.TypeError,T=u.process,O=T&&T.versions,N=O&&O.v8||"",P=u.Promise,I="process"==f(T),A=function(){},x=o=w.f,C=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(4)("species")]=function(e){e(A,A)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==N.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},R=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,i=0,s=function(t){var n,i,s,a=o?t.ok:t.fail,u=t.resolve,c=t.reject,f=t.domain;try{a?(o||(2==e._h&&B(e),e._h=1),!0===a?n=r:(f&&f.enter(),n=a(r),f&&(f.exit(),s=!0)),n===t.promise?c(S("Promise-chain cycle")):(i=M(n))?i.call(n,u,c):u(n)):c(r)}catch(e){f&&!s&&f.exit(),c(e)}};n.length>i;)s(n[i++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){y.call(u,function(){var t,n,r,o=e._v,i=k(e);if(i&&(t=_(function(){I?T.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=I||k(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){y.call(u,function(){var t;I?T.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),R(t,!0))},V=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=M(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,c(V,r,1),c(j,r,1))}catch(e){j.call(r,e)}}):(n._v=e,n._s=1,R(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};C||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(c(V,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(136)(P.prototype,{then:function(e,t){var n=x(m(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?T.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&R(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(V,e,1),this.reject=c(j,e,1)},w.f=x=function(e){return e===P||e===s?new i(e):o(e)}),l(l.G+l.W+l.F*!C,{Promise:P}),n(38)(P,"Promise"),n(137)("Promise"),s=n(6).Promise,l(l.S+l.F*!C,"Promise",{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(a||!C),"Promise",{resolve:function(e){return E(a&&this===s?P:this,e)}}),l(l.S+l.F*!(C&&n(138)(function(e){P.all(e).catch(A)})),"Promise",{all:function(e){var t=this,n=x(t),r=n.resolve,o=n.reject,i=_(function(){var n=[],i=0,s=1;v(e,!1,function(e){var a=i++,u=!1;n.push(void 0),s++,t.resolve(e).then(function(e){u||(u=!0,n[a]=e,--s||r(n))},o)}),--s||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,o=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},128:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},129:function(e,t,n){var r=n(31),o=n(130),i=n(131),s=n(9),a=n(64),u=n(132),c={},f={};(t=e.exports=function(e,t,n,l,d){var p,h,v,m,y=d?function(){return e}:u(e),g=r(n,l,t?2:1),w=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=a(e.length);p>w;w++)if((m=t?g(s(h=e[w])[0],h[1]):g(e[w]))===c||m===f)return m}else for(v=y.call(e);!(h=v.next()).done;)if((m=o(v,g,h.value,t))===c||m===f)return m}).BREAK=c,t.RETURN=f},13:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},130:function(e,t,n){var r=n(9);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},131:function(e,t,n){var r=n(27),o=n(4)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},132:function(e,t,n){var r=n(68),o=n(4)("iterator"),i=n(27);e.exports=n(6).getIteratorMethod=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||i[r(e)]}},133:function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},134:function(e,t,n){var r=n(3),o=n(70).set,i=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(32)(s);e.exports=function(){var e,t,n,c=function(){var r,o;for(u&&(r=s.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var f=a.resolve(void 0);n=function(){f.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,d=document.createTextNode("");new i(c).observe(d,{characterData:!0}),n=function(){d.data=l=!l}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},135:function(e,t,n){var r=n(3).navigator;e.exports=r&&r.userAgent||""},136:function(e,t,n){var r=n(14);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},137:function(e,t,n){"use strict";var r=n(3),o=n(6),i=n(19),s=n(17),a=n(4)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];s&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},138:function(e,t,n){var r=n(4)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},e(i)}catch(e){}return n}},139:function(e,t,n){"use strict";var r=n(16),o=n(6),i=n(3),s=n(69),a=n(72);r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},14:function(e,t,n){var r=n(19),o=n(43);e.exports=n(17)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},140:function(e,t,n){"use strict";var r=n(16),o=n(50),i=n(71);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},145:function(e,t,n){"use strict";t.__esModule=!0;t.CORE_EVENT="CORE_EVENT",t.UI_EVENT="UI_EVENT",t.DEVICE_EVENT="DEVICE_EVENT",t.TRANSPORT_EVENT="TRANSPORT_EVENT",t.RESPONSE_EVENT="RESPONSE_EVENT"},146:function(e,t,n){var r=n(86),o=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},147:function(e,t,n){var r=n(65),o=n(43),i=n(29),s=n(61),a=n(20),u=n(85),c=Object.getOwnPropertyDescriptor;t.f=n(17)?c:function(e,t){if(e=i(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},16:function(e,t,n){var r=n(3),o=n(6),i=n(31),s=n(14),a=n(20),u=function(e,t,n){var c,f,l,d=e&u.F,p=e&u.G,h=e&u.S,v=e&u.P,m=e&u.B,y=e&u.W,g=p?o:o[t]||(o[t]={}),w=g.prototype,_=p?r:h?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(f=!d&&_&&void 0!==_[c])&&a(g,c)||(l=f?_[c]:n[c],g[c]=p&&"function"!=typeof _[c]?n[c]:m&&f?i(l,r):y&&_[c]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((g.virtual||(g.virtual={}))[c]=l,e&u.R&&w&&!w[c]&&s(w,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},163:function(e,t,n){"use strict";t.__esModule=!0,t.parse=t.DEFAULT_PRIORITY=void 0;var r,o=n(42),i=(r=o)&&r.__esModule?r:{default:r};var s="5.0.31".split(".").map(function(e){return parseInt(e)}),a="https://connect.trezor.io/"+(s[0]+(s[1]>0?"."+s[1]:"")+"/"),u={configSrc:"data/config.json",debug:!1,origin:null,priority:t.DEFAULT_PRIORITY=2,trustedHost:!1,connectSrc:a,iframeSrc:a+"iframe.html",popup:!0,popupSrc:a+"popup.html",webusbSrc:a+"webusb.html",transportReconnect:!1,webusb:!0,pendingTransportEvent:!0,supportedBrowser:!/Trident|MSIE/.test(navigator.userAgent),extension:null};t.parse=function(e){if(!e)return u;var t=(0,i.default)({},u);return e.hasOwnProperty("debug")&&(Array.isArray(e),"boolean"==typeof e.debug?t.debug=e.debug:"string"==typeof e.debug&&(t.debug="true"===e.debug)),"string"==typeof e.connectSrc?t.connectSrc=e.connectSrc:"undefined"!=typeof window&&"string"==typeof window.__TREZOR_CONNECT_SRC&&(t.connectSrc=window.__TREZOR_CONNECT_SRC),t.iframeSrc=t.connectSrc+"iframe.html",t.popupSrc=t.connectSrc+"popup.html",t.webusbSrc=t.connectSrc+"webusb.html","boolean"==typeof e.transportReconnect&&(t.transportReconnect=e.transportReconnect),"boolean"==typeof e.webusb&&(t.webusb=e.webusb),"boolean"==typeof e.popup&&(t.popup=e.popup),"boolean"==typeof e.pendingTransportEvent&&(t.pendingTransportEvent=e.pendingTransportEvent),"file:"===window.location.protocol&&(t.origin=window.location.origin+window.location.pathname,t.webusb=!1),"string"==typeof e.extension&&(t.extension=e.extension),t.excludedDevices=e.excludedDevices,u=t}},17:function(e,t,n){e.exports=!n(37)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},179:function(e,t,n){"use strict";t.__esModule=!0;t.formatAmount=function(e,t){var n=e/1e8;return t.isBitcoin,n.toString()+" "+t.shortcut},t.formatTime=function(e){var t=Math.floor(e/60),n=e%60;if(!e)return"No time estimate";var r="";return 0!==t&&(r+=t+" hour",t>1&&(r+="s"),r+=" "),0!==n&&(r+=n+" minutes"),r},t.btckb2satoshib=function(e){return Math.round(1e5*e)}},183:function(e,t,n){e.exports={default:n(184),__esModule:!0}},184:function(e,t,n){n(185),e.exports=n(6).Object.assign},185:function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(186)})},186:function(e,t,n){"use strict";var r=n(55),o=n(98),i=n(65),s=n(88),a=n(87),u=Object.assign;e.exports=!u||n(37)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=s(e),u=arguments.length,c=1,f=o.f,l=i.f;u>c;)for(var d,p=a(arguments[c++]),h=f?r(p).concat(f(p)):r(p),v=h.length,m=0;v>m;)l.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},187:function(e,t,n){e.exports={default:n(188),__esModule:!0}},188:function(e,t,n){n(90),n(92),e.exports=n(100).f("iterator")},189:function(e,t,n){e.exports={default:n(190),__esModule:!0}},19:function(e,t,n){var r=n(9),o=n(85),i=n(61),s=Object.defineProperty;t.f=n(17)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},190:function(e,t,n){n(191),n(89),n(196),n(197),e.exports=n(6).Symbol},191:function(e,t,n){"use strict";var r=n(3),o=n(20),i=n(17),s=n(16),a=n(91),u=n(192).KEY,c=n(37),f=n(57),l=n(38),d=n(44),p=n(4),h=n(100),v=n(101),m=n(193),y=n(194),g=n(9),w=n(13),_=n(29),b=n(61),E=n(43),S=n(62),T=n(195),O=n(147),N=n(19),P=n(55),I=O.f,A=N.f,x=T.f,C=r.Symbol,M=r.JSON,R=M&&M.stringify,L=p("_hidden"),k=p("toPrimitive"),B={}.propertyIsEnumerable,j=f("symbol-registry"),V=f("symbols"),D=f("op-symbols"),U=Object.prototype,F="function"==typeof C,H=r.QObject,q=!H||!H.prototype||!H.prototype.findChild,G=i&&c(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=I(U,t);r&&delete U[t],A(e,t,n),r&&e!==U&&A(U,t,r)}:A,W=function(e){var t=V[e]=S(C.prototype);return t._k=e,t},z=F&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},K=function(e,t,n){return e===U&&K(D,t,n),g(e),t=b(t,!0),g(n),o(V,t)?(n.enumerable?(o(e,L)&&e[L][t]&&(e[L][t]=!1),n=S(n,{enumerable:E(0,!1)})):(o(e,L)||A(e,L,E(1,{})),e[L][t]=!0),G(e,t,n)):A(e,t,n)},Q=function(e,t){g(e);for(var n,r=m(t=_(t)),o=0,i=r.length;i>o;)K(e,n=r[o++],t[n]);return e},J=function(e){var t=B.call(this,e=b(e,!0));return!(this===U&&o(V,e)&&!o(D,e))&&(!(t||!o(this,e)||!o(V,e)||o(this,L)&&this[L][e])||t)},Y=function(e,t){if(e=_(e),t=b(t,!0),e!==U||!o(V,t)||o(D,t)){var n=I(e,t);return!n||!o(V,t)||o(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=x(_(e)),r=[],i=0;n.length>i;)o(V,t=n[i++])||t==L||t==u||r.push(t);return r},X=function(e){for(var t,n=e===U,r=x(n?D:_(e)),i=[],s=0;r.length>s;)!o(V,t=r[s++])||n&&!o(U,t)||i.push(V[t]);return i};F||(a((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(D,n),o(this,L)&&o(this[L],e)&&(this[L][e]=!1),G(this,e,E(1,n))};return i&&q&&G(U,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",function(){return this._k}),O.f=Y,N.f=K,n(146).f=T.f=Z,n(65).f=J,n(98).f=X,i&&!n(34)&&a(U,"propertyIsEnumerable",J,!0),h.f=function(e){return W(p(e))}),s(s.G+s.W+s.F*!F,{Symbol:C});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=P(p.store),ne=0;te.length>ne;)v(te[ne++]);s(s.S+s.F*!F,"Symbol",{for:function(e){return o(j,e+="")?j[e]:j[e]=C(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in j)if(j[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),s(s.S+s.F*!F,"Object",{create:function(e,t){return void 0===t?S(e):Q(S(e),t)},defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:Y,getOwnPropertyNames:Z,getOwnPropertySymbols:X}),M&&s(s.S+s.F*(!F||c(function(){var e=C();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(w(t)||void 0!==e)&&!z(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,R.apply(M,r)}}),C.prototype[k]||n(14)(C.prototype,k,C.prototype.valueOf),l(C,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},192:function(e,t,n){var r=n(44)("meta"),o=n(13),i=n(20),s=n(19).f,a=0,u=Object.isExtensible||function(){return!0},c=!n(37)(function(){return u(Object.preventExtensions({}))}),f=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[r].w},onFreeze:function(e){return c&&l.NEED&&u(e)&&!i(e,r)&&f(e),e}}},193:function(e,t,n){var r=n(55),o=n(98),i=n(65);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,a=n(e),u=i.f,c=0;a.length>c;)u.call(e,s=a[c++])&&t.push(s);return t}},194:function(e,t,n){var r=n(32);e.exports=Array.isArray||function(e){return"Array"==r(e)}},195:function(e,t,n){var r=n(29),o=n(146).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},196:function(e,t,n){n(101)("asyncIterator")},197:function(e,t,n){n(101)("observable")},198:function(e,t,n){e.exports={default:n(199),__esModule:!0}},199:function(e,t,n){n(200),e.exports=n(6).Object.setPrototypeOf},2:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(118),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new i.default(function(e,n){return function r(o,s){try{var a=t[o](s),u=a.value}catch(e){return void n(e)}if(!a.done)return i.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},20:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},200:function(e,t,n){var r=n(16);r(r.S,"Object",{setPrototypeOf:n(201).set})},201:function(e,t,n){var r=n(13),o=n(9),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(31)(Function.call,n(147).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},202:function(e,t,n){e.exports={default:n(203),__esModule:!0}},203:function(e,t,n){n(204);var r=n(6).Object;e.exports=function(e,t){return r.create(e,t)}},204:function(e,t,n){var r=n(16);r(r.S,"Object",{create:n(62)})},205:function(e,t,n){"use strict";t.__esModule=!0;t.parseMessage=function(e){var t={event:e.event,type:e.type,payload:e.payload};return"number"==typeof e.id&&(t.id=e.id),"boolean"==typeof e.success&&(t.success=e.success),t}},21:function(e,t,n){"use strict";t.__esModule=!0;t.IFRAME_HANDSHAKE="iframe-handshake",t.TRANSPORT="ui-no_transport",t.BOOTLOADER="ui-device_bootloader_mode",t.INITIALIZE="ui-device_not_initialized",t.FIRMWARE="ui-device_firmware_old",t.FIRMWARE_OUTDATED="ui-device_firmware_outdated",t.FIRMWARE_NOT_SUPPORTED="ui-device_firmware_unsupported",t.BROWSER_NOT_SUPPORTED="ui-browser_not_supported",t.BROWSER_OUTDATED="ui-browser_outdated",t.RECEIVE_BROWSER="ui-receive_browser",t.REQUEST_UI_WINDOW="ui-request_window",t.CLOSE_UI_WINDOW="ui-close_window",t.REQUEST_PERMISSION="ui-request_permission",t.REQUEST_CONFIRMATION="ui-request_confirmation",t.REQUEST_PIN="ui-request_pin",t.INVALID_PIN="ui-invalid_pin",t.REQUEST_PASSPHRASE="ui-request_passphrase",t.REQUEST_PASSPHRASE_ON_DEVICE="ui-request_passphrase_on_device",t.INVALID_PASSPHRASE="ui-invalid_passphrase",t.INVALID_PASSPHRASE_ACTION="ui-invalid_passphrase_action",t.CONNECT="ui-connect",t.LOADING="ui-loading",t.SET_OPERATION="ui-set_operation",t.SELECT_DEVICE="ui-select_device",t.SELECT_ACCOUNT="ui-select_account",t.SELECT_FEE="ui-select_fee",t.UPDATE_CUSTOM_FEE="ui-update_custom_fee",t.INSUFFICIENT_FUNDS="ui-insufficient_funds",t.REQUEST_BUTTON="ui-button",t.RECEIVE_PERMISSION="ui-receive_permission",t.RECEIVE_CONFIRMATION="ui-receive_confirmation",t.RECEIVE_PIN="ui-receive_pin",t.RECEIVE_PASSPHRASE="ui-receive_passphrase",t.RECEIVE_DEVICE="ui-receive_device",t.CHANGE_ACCOUNT="ui-change_account",t.RECEIVE_ACCOUNT="ui-receive_account",t.RECEIVE_FEE="ui-receive_fee",t.CHANGE_SETTINGS="ui-change_settings",t.CUSTOM_MESSAGE_REQUEST="ui-custom_request",t.CUSTOM_MESSAGE_RESPONSE="ui-custom_response",t.LOGIN_CHALLENGE_REQUEST="ui-login_challenge_request",t.LOGIN_CHALLENGE_RESPONSE="ui-login_challenge_response",t.BUNDLE_PROGRESS="ui-bundle_progress"},23:function(e,t,n){"use strict";t.__esModule=!0,t.getLabel=t.getPublicKeyLabel=t.getAccountLabel=t.getPathFromIndex=t.validatePath=t.isSegwitPath=t.getHDPath=t.fromHardened=t.toHardened=t.HD_HARDENED=void 0,t.getSerializedPath=function(e){return e.map(function(e){var t=(e&~i).toString();return e&i?t+"'":t}).join("/")},t.getIndexFromPath=function(e){if(e.length<3)throw(0,o.invalidParameter)("getIndexFromPath: invalid path length "+e.toString());return a(e[2])};var r=n(51),o=n(56),i=t.HD_HARDENED=2147483648,s=t.toHardened=function(e){return(e|i)>>>0},a=t.fromHardened=function(e){return(e&~i)>>>0},u=(0,o.invalidParameter)("Not a valid path."),c=(0,o.invalidParameter)("Path cannot contain negative values."),f=t.getHDPath=function(e){var t=e.toLowerCase().split("/");if("m"!==t[0])throw u;return t.filter(function(e){return"m"!==e&&""!==e}).map(function(e){var t=!1;"'"===e.substr(e.length-1)&&(t=!0,e=e.substr(0,e.length-1));var n=parseInt(e);if(isNaN(n))throw u;if(n<0)throw c;return t&&(n=s(n)),n})};t.isSegwitPath=function(e){return Array.isArray(e)&&e[0]===s(49)},t.validatePath=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0;if("string"==typeof e?r=f(e):Array.isArray(e)&&(r=e.map(function(e){var t=parseInt(e);if(isNaN(t))throw u;if(t<0)throw c;return t})),!r)throw u;if(t>0&&r.length<t)throw u;return n?r.splice(0,3):r};t.getPathFromIndex=function(e,t,n){return[s(e),s(t),s(n)]};t.getAccountLabel=function(e,t){var n=t.label,r=a(e[0]),o=a(e[2])+1;return"Export info of "+(48===r?n+" multisig":44===r&&t.segwit?n+" legacy":n)+" <span>account #"+o+"</span>"},t.getPublicKeyLabel=function(e,t){var n=!1,o="Unknown coin";t?(o=t.label,n=t.segwit):o=(0,r.getCoinName)(e);var i=a(e[0]),s=e.length>=3?a(e[2]):-1,u=s+1,c="Export public key",f="";if(45342===i){var l=a(e[1]);u=(s=a(e[3]))+1,c="Export Copay ID of",48===l?f="multisig":44===l&&(f="legacy")}else f=48===i?o+" multisig":44===i&&n?o+" legacy":o;return u>0?c+" of "+f+" <span>account #"+u+"</span>":c},t.getLabel=function(e,t){return t?e.replace("#NETWORK",t.label):e.replace("#NETWORK","")}},231:function(e,t,n){"use strict";t.__esModule=!0,t.checkFirmware=t.parseFirmware=void 0;var r,o=n(42),i=(r=o)&&r.__esModule?r:{default:r};var s=[];t.parseFirmware=function(e){var t=e;Object.keys(t).forEach(function(e){var n=t[e];s.push((0,i.default)({},n))})},t.checkFirmware=function(e){var t=s.filter(function(t){return t.version[0]===e[0]}).filter(function(t){return t.version[1]>e[1]||t.version[1]===e[1]&&t.version[2]>e[2]});return t.length>0?t.find(function(e){return e.required})?"required":"outdated":"valid"}},232:function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,s=void 0,a=function(e,t){h[o]=e,h[o+1]=t,2===(o+=2)&&(s?s(v):_())};var u="undefined"!=typeof window?window:void 0,c=u||{},f=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(v,1)}}var h=new Array(1e3);function v(){for(var e=0;e<o;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}o=0}var m,y,g,w,_=void 0;function b(e,t){var n=this,r=new this.constructor(T);void 0===r[S]&&D(r);var o=n._state;if(o){var i=arguments[o-1];a(function(){return j(o,r,i,n._result)})}else k(n,r,e,t);return r}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(T);return C(t,e),t}l?_=function(){return t.nextTick(v)}:f?(y=0,g=new f(v),w=document.createTextNode(""),g.observe(w,{characterData:!0}),_=function(){w.data=y=++y%2}):d?((m=new MessageChannel).port1.onmessage=v,_=function(){return m.port2.postMessage(0)}):_=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(v)}:p()}catch(e){return p()}}():p();var S=Math.random().toString(36).substring(2);function T(){}var O=void 0,N=1,P=2,I={error:null};function A(e){try{return e.then}catch(e){return I.error=e,I}}function x(t,n,r){n.constructor===t.constructor&&r===b&&n.constructor.resolve===E?function(e,t){t._state===N?R(e,t._result):t._state===P?L(e,t._result):k(t,void 0,function(t){return C(e,t)},function(t){return L(e,t)})}(t,n):r===I?(L(t,I.error),I.error=null):void 0===r?R(t,n):e(r)?function(e,t,n){a(function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?C(e,n):R(e,n))},function(t){r||(r=!0,L(e,t))},e._label);!r&&o&&(r=!0,L(e,o))},e)}(t,n,r):R(t,n)}function C(e,t){var n,r;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):(r=typeof(n=t),null===n||"object"!==r&&"function"!==r?R(e,t):x(e,t,A(t)))}function M(e){e._onerror&&e._onerror(e._result),B(e)}function R(e,t){e._state===O&&(e._result=t,e._state=N,0!==e._subscribers.length&&a(B,e))}function L(e,t){e._state===O&&(e._state=P,e._result=t,a(M,e))}function k(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+N]=n,o[i+P]=r,0===i&&e._state&&a(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)r=t[s],o=t[s+n],r?j(n,r,o,i):o(i);e._subscribers.length=0}}function j(t,n,r,o){var i=e(r),s=void 0,a=void 0,u=void 0,c=void 0;if(i){if((s=function(e,t){try{return e(t)}catch(e){return I.error=e,I}}(r,o))===I?(c=!0,a=s.error,s.error=null):u=!0,n===s)return void L(n,new TypeError("A promises callback cannot return that same promise."))}else s=o,u=!0;n._state!==O||(i&&u?C(n,s):c?L(n,a):t===N?R(n,s):t===P&&L(n,s))}var V=0;function D(e){e[S]=V++,e._state=void 0,e._result=void 0,e._subscribers=[]}var U=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(T),this.promise[S]||D(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===O&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===E){var o=A(e);if(o===b&&e._state!==O)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(T);x(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===O&&(this._remaining--,e===P?L(r,n):this._result[t]=n),0===this._remaining&&R(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;k(e,void 0,function(e){return n._settledAt(N,t,e)},function(e){return n._settledAt(P,t,e)})},e}();var F=function(){function e(t){this[S]=V++,this._result=this._state=void 0,this._subscribers=[],T!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){C(e,t)},function(t){L(e,t)})}catch(t){L(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},e}();return F.prototype.then=b,F.all=function(e){return new U(this,e).promise},F.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},F.resolve=E,F.reject=function(e){var t=new this(T);return L(t,e),t},F._setScheduler=function(e){s=e},F._setAsap=function(e){a=e},F._asap=a,F.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=F},F.Promise=F,F},e.exports=r()}).call(this,n(52),n(28))},27:function(e,t){e.exports={}},279:function(e,t,n){"use strict";e.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[t.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;)o[n.key[i]]=r[i]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o}},28:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},29:function(e,t,n){var r=n(87),o=n(47);e.exports=function(e){return r(o(e))}},3:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},30:function(e,t,n){"use strict";t.__esModule=!0,t.ResponseMessage=t.TransportMessage=t.DeviceMessage=t.UiMessage=void 0;var r=n(145);t.UiMessage=function(e,t){return{event:r.UI_EVENT,type:e,payload:t}},t.DeviceMessage=function(e,t){return{event:r.DEVICE_EVENT,type:e,payload:t}},t.TransportMessage=function(e,t){return{event:r.TRANSPORT_EVENT,type:e,payload:t}},t.ResponseMessage=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{event:r.RESPONSE_EVENT,type:r.RESPONSE_EVENT,id:e,success:t,payload:n}}},31:function(e,t,n){var r=n(35);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},311:function(e,t,n){},32:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},34:function(e,t){e.exports=!0},35:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},37:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},38:function(e,t,n){var r=n(19).f,o=n(20),i=n(4)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},4:function(e,t,n){var r=n(57)("wks"),o=n(44),i=n(3).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},42:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(183),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},43:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},44:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},46:function(e,t,n){var r=n(13),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},47:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},48:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},49:function(e,t,n){var r=n(57)("keys"),o=n(44);e.exports=function(e){return r[e]||(r[e]=o(e))}},50:function(e,t,n){"use strict";var r=n(35);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},51:function(e,t,n){"use strict";t.__esModule=!0,t.getEthereumNetwork=t.parseEthereumNetworksJson=t.ethereumNetworks=t.parseCoinsJson=t.getCoinName=t.getCoinInfoFromPath=t.getCoinInfoByCurrency=t.getCoinInfoByHash=t.fixCoinInfoNetwork=t.getSegwitNetwork=t.cloneCoinInfo=t.getCoins=void 0;var r,o=n(42),i=(r=o)&&r.__esModule?r:{default:r},s=n(23);var a=[],u=t.getCoins=function(){return JSON.parse(JSON.stringify(a))},c=t.cloneCoinInfo=function(e){return JSON.parse(JSON.stringify(e))},f=t.getSegwitNetwork=function(e){return e.segwit&&"number"==typeof e.xPubMagicSegwit?(0,i.default)({},e.network,{bip32:(0,i.default)({},e.network.bip32,{public:e.xPubMagicSegwit})}):null},l=(t.fixCoinInfoNetwork=function(e,t){var n=c(e);if(t[0]===(0,s.toHardened)(49)){var r=f(n);r&&(n.network=r)}else n.segwit=!1;return n},t.getCoinInfoByHash=function(e,t){var n,r=u().find(function(t){return e.toLowerCase()===t.hashGenesisBlock.toLowerCase()});if(!r)throw new Error("Coin info not found for hash: "+e+" "+t.hashGenesisBlock);if(r.isBitcoin){var o=null==(n=t).subversion?"btc":n.subversion.startsWith("/Bitcoin ABC")?"bch":n.subversion.startsWith("/Bitcoin Gold")?"btg":"btc",i=void 0;if("bch"===o?i=a.find(function(e){return"Bcash"===e.name}):"btg"===o&&(i=a.find(function(e){return"Bgold"===e.name})),i)return i;throw new Error("Coin info not found for hash: "+e+" "+t.hashGenesisBlock+" BTC version:"+o)}return r},t.getCoinInfoByCurrency=function(e){var t=e.toLowerCase();return u().find(function(e){return e.name.toLowerCase()===t||e.shortcut.toLowerCase()===t||e.label.toLowerCase()===t})},t.getCoinInfoFromPath=function(e){return u().find(function(t){return(0,s.toHardened)(t.slip44)===e[1]})},t.getCoinName=function(e){var t=(0,s.fromHardened)(e[1]),n=l,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var a=i;if(a.slip44===t)return a.name}return"Unknown coin"},t.parseCoinsJson=function(e){var t=e;Object.keys(t).forEach(function(e){var n=t[e],r={messagePrefix:n.signed_message_header,bip32:{public:n.xpub_magic,private:n.xprv_magic},pubKeyHash:n.address_type,scriptHash:n.address_type_p2sh,wif:128,dustThreshold:0,bech32:n.bech32_prefix},o=n.coin_name.startsWith("Zcash"),i=n.coin_shortcut,s="BTC"===i||"TEST"===i;a.push({addressPrefix:n.address_prefix,bitcore:n.bitcore,blockbook:n.blockbook,blocktime:Math.round(n.blocktime_seconds/60),cashAddrPrefix:n.cashaddr_prefix,label:n.coin_label,name:n.coin_name,shortcut:i,curveName:n.curve_name,decred:n.decred,defaultFees:n.default_fee_b,dustLimit:n.dust_limit,forceBip143:n.force_bip143,forkid:n.fork_id,hashGenesisBlock:n.hash_genesis_block,maxAddressLength:n.max_address_length,maxFeeSatoshiKb:n.maxfee_kb,minAddressLength:n.min_address_length,minFeeSatoshiKb:n.minfee_kb,segwit:n.segwit,slip44:n.slip44,support:n.support,xPubMagic:n.xpub_magic,xPubMagicSegwit:n.xpub_magic_segwit_p2sh,xPubMagicSegwitNative:n.xpub_magic_segwit_native,network:r,zcash:o,isBitcoin:s,hasSegwit:n.segwit,maxFee:Math.round(n.maxfee_kb/1e3),minFee:Math.round(n.minfee_kb/1e3),blocks:Math.round(n.blocktime_seconds/60)})})},t.ethereumNetworks=[]);t.parseEthereumNetworksJson=function(e){var t=e;Object.keys(t).forEach(function(e){var n=t[e];l.push({chainId:n.chain_id,slip44:n.slip44,shortcut:n.shortcut,name:n.name,rskip60:n.rskip60,url:n.url})})},t.getEthereumNetwork=function(e){var t=(0,s.fromHardened)(e[1]);return l.find(function(e){return e.slip44===t})}},52:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var e=a(d);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||f||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},55:function(e,t,n){var r=n(86),o=n(58);e.exports=Object.keys||function(e){return r(e,o)}},56:function(e,t,n){"use strict";t.__esModule=!0,t.NO_COIN_INFO=t.BACKEND_NO_URL=t.WEBUSB_ERROR_MESSAGE=t.INVALID_PIN_ERROR_MESSAGE=t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=t.INVALID_STATE=t.CALL_OVERRIDE=t.INITIALIZATION_FAILED=t.DEVICE_USED_ELSEWHERE=t.PERMISSIONS_NOT_GRANTED=t.POPUP_CLOSED=t.INVALID_PARAMETERS=t.DEVICE_CALL_IN_PROGRESS=t.DEVICE_NOT_FOUND=t.WRONG_TRANSPORT_CONFIG=t.NO_TRANSPORT=t.BROWSER=t.POPUP_TIMEOUT=t.IFRAME_TIMEOUT=t.IFRAME_INITIALIZED=t.IFRAME_BLOCKED=t.NO_IFRAME=t.invalidParameter=t.TrezorError=void 0;var r=s(n(7)),o=s(n(11)),i=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var a=t.TrezorError=function(e){function t(n,i){(0,r.default)(this,t);var s=(0,o.default)(this,e.call(this,i));return s.code=n,s.message=i,s}return(0,i.default)(t,e),t}(Error),u=t.invalidParameter=function(e){return new a("Connect_InvalidParameter",e)};t.NO_IFRAME=new a(100,"TrezorConnect not yet initialized"),t.IFRAME_BLOCKED=new a("iframe_blocked","TrezorConnect iframe was blocked"),t.IFRAME_INITIALIZED=new a(101,"TrezorConnect has been already initialized"),t.IFRAME_TIMEOUT=new a(102,"Iframe timeout"),t.POPUP_TIMEOUT=new a(103,"Popup timeout"),t.BROWSER=new a(104,"Browser not supported"),t.NO_TRANSPORT=new a(500,"Transport is missing"),t.WRONG_TRANSPORT_CONFIG=new a(5002,"Wrong config response"),t.DEVICE_NOT_FOUND=new a(501,"Device not found"),t.DEVICE_CALL_IN_PROGRESS=new a(503,"Device call in progress"),t.INVALID_PARAMETERS=new a(504,"Invalid parameters"),t.POPUP_CLOSED=new Error("Popup closed"),t.PERMISSIONS_NOT_GRANTED=new a(600,"Permissions not granted"),t.DEVICE_USED_ELSEWHERE=new a(700,"Device is used in another window"),t.INITIALIZATION_FAILED=new a("Failure_Initialize","Initialization failed"),t.CALL_OVERRIDE=new a("Failure_ActionOverride","override"),t.INVALID_STATE=new a("Failure_PassphraseState","Passphrase is incorrect"),t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session",t.INVALID_PIN_ERROR_MESSAGE="PIN invalid",t.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface.",t.BACKEND_NO_URL=new a("Backend_init","Url not found"),t.NO_COIN_INFO=u("Coin not found.")},57:function(e,t,n){var r=n(6),o=n(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(34)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},58:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},6:function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},61:function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},62:function(e,t,n){var r=n(9),o=n(122),i=n(58),s=n(49)("IE_PROTO"),a=function(){},u=function(){var e,t=n(46)("iframe"),r=i.length;for(t.style.display="none",n(67).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},64:function(e,t,n){var r=n(48),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},65:function(e,t){t.f={}.propertyIsEnumerable},66:function(e,t,n){"use strict";var r=n(34),o=n(16),i=n(91),s=n(14),a=n(27),u=n(121),c=n(38),f=n(123),l=n(4)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,v,m,y){u(n,t,h);var g,w,_,b=function(e){if(!d&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",S="values"==v,T=!1,O=e.prototype,N=O[l]||O["@@iterator"]||v&&O[v],P=N||b(v),I=v?S?b("entries"):P:void 0,A="Array"==t&&O.entries||N;if(A&&(_=f(A.call(new e)))!==Object.prototype&&_.next&&(c(_,E,!0),r||"function"==typeof _[l]||s(_,l,p)),S&&N&&"values"!==N.name&&(T=!0,P=function(){return N.call(this)}),r&&!y||!d&&!T&&O[l]||s(O,l,P),a[t]=P,a[E]=p,v)if(g={values:S?P:b("values"),keys:m?P:b("keys"),entries:I},y)for(w in g)w in O||i(O,w,g[w]);else o(o.P+o.F*(d||T),t,g);return g}},67:function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},68:function(e,t,n){var r=n(32),o=n(4)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},69:function(e,t,n){var r=n(9),o=n(35),i=n(4)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[i])?t:o(n)}},7:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},70:function(e,t,n){var r,o,i,s=n(31),a=n(133),u=n(67),c=n(46),f=n(3),l=f.process,d=f.setImmediate,p=f.clearImmediate,h=f.MessageChannel,v=f.Dispatch,m=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},w=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete y[e]},"process"==n(32)(l)?r=function(e){l.nextTick(s(g,e,1))}:v&&v.now?r=function(e){v.now(s(g,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=w,r=s(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(e){f.postMessage(e+"","*")},f.addEventListener("message",w,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(s(g,e,1),0)}),e.exports={set:d,clear:p}},71:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},72:function(e,t,n){var r=n(9),o=n(13),i=n(50);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},74:function(e,t,n){"use strict";t.__esModule=!0,t.postMessage=t.initBroadcast=t.showView=t.clearView=t.createTooltip=t.init=t.setOperation=t.broadcast=t.channel=t.iframe=t.views=t.container=t.header=void 0;var r,o=n(80),i=(r=o)&&r.__esModule?r:{default:r},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(109));t.header=document.getElementsByTagName("header")[0];var a=t.container=document.getElementById("container"),u=t.views=document.getElementById("views"),c=t.iframe=void 0,f=t.channel=new MessageChannel,l=t.broadcast=void 0,d=(t.setOperation=function(e){var t=document.getElementsByClassName("info-panel")[0],n=t.getElementsByClassName("operation")[0],r=t.getElementsByClassName("origin")[0];n.innerHTML=e,r.innerText=i.default.getSettings("hostLabel")||i.default.getSettings("origin");var o=i.default.getSettings("hostIcon");if(o)for(var s=document.getElementsByClassName("service-info"),a=0;a<s.length;a++)s[a].innerHTML='<img src="'+o+'" alt="" />'},t.init=function(){if(window.opener)for(var e=window.opener.frames,n=0;n<e.length;n++)try{e[n].location.host===window.location.host&&(t.iframe=c=e[n])}catch(e){}return c},t.createTooltip=function(e){var t=document.createElement("div");return t.setAttribute("tooltip",e),t.setAttribute("tooltip-position","bottom"),t},t.clearView=function(){a.innerHTML=""});t.showView=function(e){d();var t=u.getElementsByClassName(e);if(t)a.innerHTML=t.item(0).outerHTML;else{var n=u.getElementsByClassName("unknown-view");a.innerHTML=n.item(0).outerHTML}return a},t.initBroadcast=function(e){return t.broadcast=l=new BroadcastChannel(e),l},t.postMessage=function(e){l?l.postMessage(e):window.opener&&c&&(e.type&&e.type===s.OPENED?c.postMessage(e,window.location.origin,[f.port2]):c.postMessage(e,window.location.origin))}},79:function(e,t,n){"use strict";t.__esModule=!0,t.getOrigin=t.httpRequest=void 0;var r=i(n(1)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}n(102);var s;t.httpRequest=(s=(0,o.default)(r.default.mark(function e(t){var n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{credentials:"same-origin"});case 2:if(!(n=e.sent).ok){e.next=22;break}if("json"!==i){e.next=11;break}return e.next=7,n.text();case 7:return o=e.sent,e.abrupt("return",JSON.parse(o));case 11:if("binary"!==i){e.next=17;break}return e.next=14,n.arrayBuffer();case 14:return e.abrupt("return",e.sent);case 17:return e.next=19,n.text();case 19:return e.abrupt("return",e.sent);case 20:e.next=23;break;case 22:throw new Error("httpRequest error: "+t+" "+n.statusText);case 23:case"end":return e.stop()}},e,void 0)})),function(e){return s.apply(this,arguments)}),t.getOrigin=function(e){var t=e.match(/^.+\:\/\/[^\‌​/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"}},80:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(1)),o=l(n(2)),i=l(n(7)),s=n(79),a=n(163),u=n(51),c=n(231),f=(n(232),l(n(279)));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return e},p=function(){function e(){(0,i.default)(this,e)}return e.load=function(){var t=(0,o.default)(r.default.mark(function t(n){var o,i,a,f,l,p,h,v,m,y,g;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=(new Date).getTime(),i=n.configSrc+"?r="+o,t.prev=2,this.settings=n,t.next=6,(0,s.httpRequest)(i,"json");case 6:a=t.sent,this.config=d(a),f=e.isWhitelisted(this.settings.origin||""),this.settings.trustedHost=!!f&&!this.settings.popup,this.settings.trustedHost||(this.settings.popup=!0),!this.settings.debug||this.settings.trustedHost||f||(this.settings.debug=!1),this.settings.priority=e.getPriority(f),(l=e.getHostLabel(this.settings.extension||this.settings.origin||""))&&(this.settings.hostLabel=l.label,this.settings.hostIcon=l.icon),p=this.config.assets,h=Array.isArray(p),v=0,p=h?p:p[Symbol.iterator]();case 16:if(!h){t.next=22;break}if(!(v>=p.length)){t.next=19;break}return t.abrupt("break",33);case 19:m=p[v++],t.next=26;break;case 22:if(!(v=p.next()).done){t.next=25;break}return t.abrupt("break",33);case 25:m=v.value;case 26:return y=m,t.next=29,(0,s.httpRequest)(y.url+"?r="+o,y.type||"json");case 29:g=t.sent,this.assets[y.name]=g;case 31:t.next=16;break;case 33:(0,u.parseCoinsJson)(this.assets.coins),(0,u.parseEthereumNetworksJson)(this.assets.ethereumNetworks),(0,c.parseFirmware)(this.assets["firmware-t1"]),(0,c.parseFirmware)(this.assets["firmware-t2"]),t.next=42;break;case 39:throw t.prev=39,t.t0=t.catch(2),t.t0;case 42:case"end":return t.stop()}},t,this,[[2,39]])}));return function(e){return t.apply(this,arguments)}}(),e.getMessages=function(){return this.assets.messages},e.isWhitelisted=function(e){if(!this.config)return null;var t=(0,f.default)(e);if(t&&"string"==typeof t.host){var n=t.host.split(".");return n.length>2&&(t.host=n.slice(n.length-2,n.length).join(".")),this.config.whitelist.find(function(n){return n.origin===e||n.origin===t.host})}},e.getPriority=function(e){return e?e.priority:a.DEFAULT_PRIORITY},e.getHostLabel=function(e){return this.config.knownHosts.find(function(t){return t.origin===e})},e.getSettings=function(e){return this.settings?"string"==typeof e?this.settings[e]:this.settings:null},e.getDebugSettings=function(e){return!1},e.getConfig=function(){return this.config},e.isExcludedDevice=function(e){return!!Array.isArray(this.settings.excludedDevices)&&this.settings.excludedDevices.indexOf(e)>=0},e}();p.assets={},t.default=p},85:function(e,t,n){e.exports=!n(17)&&!n(37)(function(){return 7!=Object.defineProperty(n(46)("div"),"a",{get:function(){return 7}}).a})},86:function(e,t,n){var r=n(20),o=n(29),i=n(115)(!1),s=n(49)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),u=0,c=[];for(n in a)n!=s&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~i(c,n)||c.push(n));return c}},87:function(e,t,n){var r=n(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},88:function(e,t,n){var r=n(47);e.exports=function(e){return Object(r(e))}},89:function(e,t){},9:function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},90:function(e,t,n){"use strict";var r=n(120)(!0);n(66)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},91:function(e,t,n){e.exports=n(14)},92:function(e,t,n){n(124);for(var r=n(3),o=n(14),i=n(27),s=n(4)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var c=a[u],f=r[c],l=f&&f.prototype;l&&!l[s]&&o(l,s,c),i[c]=i.Array}},931:function(e,t,n){"use strict";var r=v(n(1)),o=v(n(2)),i=n(205),s=n(30),a=v(n(80)),u=h(n(109)),c=h(n(21)),f=n(79),l=n(74),d=n(932),p=h(n(933));v(n(311));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var m,y=function e(t){console.log("handleMessage",t.data);var n=t.data;if(n){if(n.type===u.INIT)return window.location.hash="",void w();if(n.type===u.EXTENSION_REQUEST)return(0,l.initBroadcast)(n.broadcast).onmessage=function(t){return e(t)},void w();var r=t.target instanceof MessagePort||t.target instanceof BroadcastChannel;if(r&&n===u.CLOSE)return window.opener&&window.opener.postMessage(new s.ResponseMessage(0,!1,"Popup couldn't establish connection with iframe."),"*"),void window.close();if(r&&!a.default.getSettings("origin")&&n.type===u.HANDSHAKE&&n.payload)g(n.payload);else if(r||(0,f.getOrigin)(t.origin)===(0,f.getOrigin)(document.referrer)||a.default.isWhitelisted(t.origin)){var o=(0,i.parseMessage)(t.data);switch(o.type){case c.LOADING:case c.REQUEST_UI_WINDOW:(0,l.showView)("loader");break;case c.SET_OPERATION:"string"==typeof o.payload&&(0,l.setOperation)(o.payload);break;case c.TRANSPORT:(0,l.showView)("transport");break;case c.SELECT_DEVICE:p.selectDevice(o.payload);break;case c.SELECT_ACCOUNT:p.selectAccount(o.payload);break;case c.SELECT_FEE:p.selectFee(o.payload);break;case c.UPDATE_CUSTOM_FEE:p.updateCustomFee(o.payload);break;case c.INSUFFICIENT_FUNDS:(0,l.showView)("insufficient-funds");break;case c.REQUEST_BUTTON:p.requestButton(o.payload);break;case c.BOOTLOADER:(0,l.showView)("bootloader");break;case c.INITIALIZE:(0,l.showView)("initialize");break;case c.FIRMWARE:(0,l.showView)("firmware-update");break;case c.FIRMWARE_NOT_SUPPORTED:(0,l.showView)("firmware-not-supported");break;case c.FIRMWARE_OUTDATED:(0,d.showFirmwareUpdateNotification)();break;case c.BROWSER_NOT_SUPPORTED:case c.BROWSER_OUTDATED:p.initBrowserView(o.payload);break;case c.REQUEST_PERMISSION:p.initPermissionsView(o.payload);break;case c.REQUEST_CONFIRMATION:p.initConfirmationView(o.payload);break;case c.REQUEST_PIN:p.initPinView(o.payload);break;case c.INVALID_PIN:(0,l.showView)("invalid-pin");break;case c.REQUEST_PASSPHRASE:p.initPassphraseView(o.payload);break;case c.REQUEST_PASSPHRASE_ON_DEVICE:p.passphraseOnDeviceView(o.payload);break;case c.INVALID_PASSPHRASE:p.initInvalidPassphraseView(o.payload)}}}},g=(m=(0,o.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a.default.load(t.settings);case 4:(0,l.setOperation)(t.method||""),t.transport&&t.transport.outdated&&(0,d.showBridgeUpdateNotification)(),(0,l.postMessage)(new s.UiMessage(u.HANDSHAKE));case 7:case"end":return e.stop()}},e,void 0)})),function(e){return m.apply(this,arguments)}),w=function(){window.location.hash.length>0?window.location.hash.indexOf("unsupported")>=0?p.initBrowserView({supported:!1}):window.opener?window.opener.postMessage(u.INIT,"*"):window.postMessage(u.INIT,window.location.origin):window.opener||l.broadcast?(window.location.hash="",p.init(),l.broadcast||(l.channel.port1.onmessage=function(e){return y(e)}),(0,l.postMessage)(new s.UiMessage(u.OPENED))):window.postMessage(u.EXTENSION_REQUEST,window.location.origin)};window.addEventListener("load",w,!1),window.addEventListener("message",y,!1),window.addEventListener("beforeunload",function(){}),window.closeWindow=function(){setTimeout(function(){window.postMessage("window.close",window.location.origin),window.close()},100)}},932:function(e,t,n){"use strict";t.__esModule=!0,t.showBridgeUpdateNotification=t.showFirmwareUpdateNotification=void 0;var r=n(74);t.showFirmwareUpdateNotification=function(){var e=document.getElementsByClassName("notification")[0];if(!e.querySelector(".firmware-update-notification")){var t=r.views.getElementsByClassName("firmware-update-notification"),n=document.createElement("div");n.className="firmware-update-notification notification-item",n.innerHTML=t.item(0).innerHTML,e.appendChild(n);var o=n.querySelector(".close-icon");o&&o.addEventListener("click",function(){e.removeChild(n)})}},t.showBridgeUpdateNotification=function(){var e=document.getElementsByClassName("notification")[0];if(!e.querySelector(".bridge-update-notification")){var t=r.views.getElementsByClassName("bridge-update-notification"),n=document.createElement("div");n.className="bridge-update-notification notification-item",n.innerHTML=t.item(0).innerHTML,e.appendChild(n);var o=n.querySelector(".close-icon");o&&o.addEventListener("click",function(){e.removeChild(n)})}}},933:function(e,t,n){"use strict";t.__esModule=!0;var r=n(74);Object.defineProperty(t,"init",{enumerable:!0,get:function(){return r.init}}),Object.defineProperty(t,"showView",{enumerable:!0,get:function(){return r.showView}}),Object.defineProperty(t,"postMessage",{enumerable:!0,get:function(){return r.postMessage}});var o=n(934);Object.defineProperty(t,"initPinView",{enumerable:!0,get:function(){return o.initPinView}});var i=n(935);Object.defineProperty(t,"initPassphraseView",{enumerable:!0,get:function(){return i.initPassphraseView}});var s=n(936);Object.defineProperty(t,"initInvalidPassphraseView",{enumerable:!0,get:function(){return s.initInvalidPassphraseView}});var a=n(937);Object.defineProperty(t,"selectDevice",{enumerable:!0,get:function(){return a.selectDevice}});var u=n(938);Object.defineProperty(t,"selectAccount",{enumerable:!0,get:function(){return u.selectAccount}});var c=n(939);Object.defineProperty(t,"selectFee",{enumerable:!0,get:function(){return c.selectFee}}),Object.defineProperty(t,"updateCustomFee",{enumerable:!0,get:function(){return c.updateCustomFee}});var f=n(940);Object.defineProperty(t,"requestButton",{enumerable:!0,get:function(){return f.requestButton}});var l=n(941);Object.defineProperty(t,"initPermissionsView",{enumerable:!0,get:function(){return l.initPermissionsView}});var d=n(942);Object.defineProperty(t,"initConfirmationView",{enumerable:!0,get:function(){return d.initConfirmationView}});var p=n(943);Object.defineProperty(t,"initBrowserView",{enumerable:!0,get:function(){return p.initBrowserView}});var h=n(944);Object.defineProperty(t,"passphraseOnDeviceView",{enumerable:!0,get:function(){return h.passphraseOnDeviceView}})},934:function(e,t,n){"use strict";t.__esModule=!0,t.initPinView=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(74);var s=function(e){var t=i.container.getElementsByClassName("submit")[0];e?t.setAttribute("disabled","true"):t.removeAttribute("disabled")},a=function(e){var t=i.container.getElementsByClassName("pin-input")[0];t.value.length<9&&(t.value+=e,t.value.length>0&&s(!1))},u=function(){var e=i.container.getElementsByClassName("pin-input")[0],t=e.value;e.value=t.substring(0,t.length-1),e.value||s(!0)},c=function(e){switch(e.preventDefault(),e.keyCode){case 13:i.container.getElementsByClassName("submit")[0].click();break;case 8:u();break;case 49:case 97:a(1);break;case 50:case 98:a(2);break;case 51:case 99:a(3);break;case 52:case 100:a(4);break;case 53:case 101:a(5);break;case 54:case 102:a(6);break;case 55:case 103:a(7);break;case 56:case 104:a(8);break;case 57:case 105:a(9)}};t.initPinView=function(e){(0,i.showView)("pin");var t=i.container.getElementsByClassName("device-name")[0],n=i.container.getElementsByClassName("pin-input")[0],s=i.container.getElementsByClassName("submit")[0],f=i.container.getElementsByClassName("pin-backspace")[0],l=i.container.querySelectorAll("[data-value]");t.innerText=e.device.label;for(var d=0;d<l.length;d++)l.item(d).addEventListener("click",function(e){if(e.target instanceof HTMLElement){var t=e.target.getAttribute("data-value");t&&a(+t)}});f.addEventListener("click",u),s.addEventListener("click",function(e){n.value.length>0&&(window.removeEventListener("keydown",c,!1),(0,i.showView)("loader"),(0,i.postMessage)(new r.UiMessage(o.RECEIVE_PIN,n.value)))}),window.addEventListener("keydown",c,!1)}},935:function(e,t,n){"use strict";t.__esModule=!0,t.initPassphraseView=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(74);t.initPassphraseView=function(e){(0,i.showView)("passphrase");var t=i.container.getElementsByClassName("passphrase")[0],n=i.container.getElementsByClassName("device-name")[0],s=i.container.getElementsByClassName("pass")[0],a=i.container.getElementsByClassName("pass-check")[0],u=i.container.getElementsByClassName("show-passphrase")[0],c=i.container.getElementsByClassName("submit")[0],f="password";n.innerText=e.device.label;var l=function(){s.value!==a.value?(c.disabled=!0,t.classList.add("not-valid")):(c.disabled=!1,t.classList.remove("not-valid"))},d=function(e){"text"===f?(e.setAttribute("type","text"),a.disabled=!0,a.value=s.value,l()):"password"===f&&(e.setAttribute("type","password"),a.disabled=!1,a.value="",l())},p=function(e){"Enter"===e.key&&(e.preventDefault(),c.click())};s.addEventListener("input",function(){l(),"text"===f&&(a.value=s.value,l())},!1),a.addEventListener("input",l,!1),u.addEventListener("click",function(){f="text"===f?"password":"text",d(s),d(a)}),c.addEventListener("click",function(){s.blur(),a.blur(),window.removeEventListener("keydown",p),(0,i.showView)("loader"),(0,i.postMessage)(new r.UiMessage(o.RECEIVE_PASSPHRASE,{save:!0,value:s.value}))}),window.addEventListener("keydown",p,!1),s.focus()}},936:function(e,t,n){"use strict";t.__esModule=!0,t.initInvalidPassphraseView=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(74);t.initInvalidPassphraseView=function(e){(0,i.showView)("invalid-passphrase");var t=i.container.getElementsByClassName("confirm")[0],n=i.container.getElementsByClassName("cancel")[0];t.onclick=function(){(0,i.postMessage)(new r.UiMessage(o.INVALID_PASSPHRASE_ACTION,!1)),(0,i.showView)("loader")},n.onclick=function(){(0,i.postMessage)(new r.UiMessage(o.INVALID_PASSPHRASE_ACTION,!0)),(0,i.showView)("loader")}}},937:function(e,t,n){"use strict";t.__esModule=!0,t.selectDevice=void 0;var r=l(n(1)),o=l(n(2)),i=n(30),s=f(n(21)),a=f(n(109)),u=n(74),c=l(n(80));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){if(e){var n=u.container.getElementsByClassName("webusb")[0];n.style.display="flex";var i=n.getElementsByTagName("button")[0];u.iframe||(i.innerHTML='<span class="plus"></span><span class="text">Pair devices</span>'),i.onclick=(0,o.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.iframe){e.next=3;break}return window.postMessage(a.EXTENSION_USB_PERMISSIONS,window.location.origin),e.abrupt("return");case 3:return n=u.iframe.clientInformation.usb,e.prev=4,e.next=7,n.requestDevice({filters:c.default.getConfig().webusb});case 7:t&&(0,u.showView)("loader"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,void 0,[[4,10]])}))}};t.selectDevice=function(e){if(e){if(!e.devices||!Array.isArray(e.devices)||0===e.devices.length)return(0,u.showView)("connect"),void d(e.webusb,!0);if((0,u.showView)("select-device"),d(e.webusb,!1),!e.webusb)u.container.getElementsByClassName("wrapper")[0].style.justifyContent="normal";var t=u.container.getElementsByClassName("select-device-list")[0],n=u.container.getElementsByClassName("remember-device")[0];e.devices.sort(function(e,t){return"unreadable"===e.type&&"unreadable"!==!t.type?1:"unreadable"!==e.type&&"unreadable"===t.type?-1:0}),e.devices.forEach(function(e){var r=document.createElement("button");r.className="list","unreadable"!==e.type&&r.addEventListener("click",function(){(0,u.postMessage)(new i.UiMessage(s.RECEIVE_DEVICE,{remember:n&&n.checked,device:e})),(0,u.showView)("loader")});var o=document.createElement("span");o.className="icon",e.features&&2===e.features.major_version&&o.classList.add("model-t");var a=document.createElement("span");a.className="device-name",a.textContent=e.label;var c=document.createElement("div");if(c.className="wrapper",c.appendChild(o),c.appendChild(a),r.appendChild(c),"acquired"!==e.type||"occupied"===e.status){r.classList.add("device-explain");var f=document.createElement("div");f.className="explain";"unreadable"===e.type&&(r.disabled=!0,o.classList.add("unknown"),a.textContent="Unrecognized device",f.innerHTML='Please install <a href="https://wallet.trezor.io" target="_blank" rel="noreferrer noopener" onclick="window.closeWindow();">Bridge</a> to use Trezor device.'),"unacquired"!==e.type&&"occupied"!==e.status||(a.textContent="Inactive device",r.classList.add("unacquired"),f.classList.add("unacquired"),f.innerHTML="Click to activate. This device is used by another application.","acquired"===e.type&&(a.textContent=e.label)),r.appendChild(f)}t.appendChild(r)})}}},938:function(e,t,n){"use strict";t.__esModule=!0,t.selectAccount=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(179),s=n(74);t.selectAccount=function(e){if(e&&Array.isArray(e.accounts)){e.start&&((0,s.showView)("select-account"),e.coinInfo.segwit&&function(){var e=s.container.getElementsByClassName("tabs")[0];e.style.display="flex";var t=s.container.getElementsByClassName("select-account")[0],n=void 0,r=function(){var e=n.getAttribute("data-tab");e&&(n.onclick=function(n){t.className="select-account "+e})},o=e.getElementsByClassName("tab-selection"),i=Array.isArray(o),a=0;for(o=i?o:o[Symbol.iterator]();;){if(i){if(a>=o.length)break;n=o[a++]}else{if((a=o.next()).done)break;n=a.value}r()}}()),s.container.getElementsByTagName("h3")[0].innerHTML=e.complete?"Select "+e.coinInfo.label+" account":"Loading "+e.coinInfo.label+" accounts...";var t=s.container.querySelectorAll(".select-account-list.normal")[0],n=s.container.querySelectorAll(".select-account-list.legacy")[0],a=function(e){e.currentTarget instanceof HTMLElement&&(0,s.postMessage)(new r.UiMessage(o.RECEIVE_ACCOUNT,e.currentTarget.getAttribute("data-index"))),t.style.pointerEvents="none"},u=function(e){var t=e.querySelectorAll(".account-default")[0];t&&e.removeChild(t)},c=function(t,n){t.innerHTML.length<1&&(t.innerHTML='\n                <span class="account-title"></span>\n                <span class="account-status"></span>');var r=t.getElementsByClassName("account-title")[0],o=t.getElementsByClassName("account-status")[0];r.innerHTML=n.label,n.balance<0?(o.innerHTML=n.transactions?n.transactions+" transactions":"Loading...",t.disabled=!0):(o.innerHTML=0===n.transactions?"New account":(0,i.formatAmount)(n.balance,e.coinInfo),e.checkBalance?t.disabled=0===n.transactions||0===n.balance:t.disabled=!1,t.disabled||(t.onclick=a))},f=e.accounts.entries(),l=Array.isArray(f),d=0;for(f=l?f:f[Symbol.iterator]();;){var p;if(l){if(d>=f.length)break;p=f[d++]}else{if((d=f.next()).done)break;p=d.value}var h=p,v=h[0],m=h[1],y=s.container.querySelectorAll('[data-index="'+v+'"]')[0];if(y)c(y,m);else{var g=document.createElement("button");g.className="list",g.setAttribute("data-index",v.toString()),c(g,m),e.coinInfo.segwit&&!m.coinInfo.segwit?(u(n),n.appendChild(g)):(u(t),t.appendChild(g))}}}}},939:function(e,t,n){"use strict";t.__esModule=!0,t.selectFee=t.updateCustomFee=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(74),s=n(179);var a=[],u=void 0,c=(t.updateCustomFee=function(e){var t=i.container.getElementsByClassName("custom-fee")[0],n=i.container.getElementsByClassName("opener")[0].getElementsByClassName("fee-info")[0];t.className.indexOf("active")<0||("custom"===a[a.length-1].name?a[a.length-1]=e.level:a.push(e.level),e.level.fee?n.innerHTML=(0,s.formatAmount)(e.level.fee,e.coinInfo):n.innerHTML="Insufficient funds",c(e.coinInfo))},function(e){if(u){var t=u.getAttribute("data-fee")||"custom",n=a.find(function(e){return e.name===t}),r=i.container.getElementsByClassName("send-button")[0];n&&0!==n.fee?(r.removeAttribute("disabled"),r.innerHTML="Send "+(0,s.formatAmount)(n.total,e)):(r.setAttribute("disabled","disabled"),r.innerHTML="Send")}});t.selectFee=function(e){if(e&&Array.isArray(e.feeLevels)){(0,i.showView)("select-fee"),u=null,a.splice(0,a.length),a.push.apply(a,e.feeLevels);var t=[];a.forEach(function(n,r){if("custom"!==n.name){var o=n.name;"normal"===n.name&&n.fee&&(o="<span>"+n.name+'</span>\n                <span class="fee-subtitle">recommended</span>'),n.fee?t.push('\n                <button data-fee="'+n.name+'" class="list">\n                    <span class="fee-title">'+o+'</span>\n                    <span class="fee-info">\n                        <span class="fee-amount">'+(0,s.formatAmount)(n.fee,e.coinInfo)+'</span>\n                        <span class="fee-time">'+(0,s.formatTime)(n.minutes)+"</span>\n                    </span>\n                </button>\n            "):t.push('\n                <button disabled class="list">\n                    <span class="fee-title">'+o+'</span>\n                    <span class="fee-info">Insufficient funds</span>\n                </button>\n            ')}});var n=i.container.getElementsByClassName("select-fee-list")[0];t.push(n.innerHTML),n.innerHTML=t.join("");for(var f=i.container.getElementsByClassName("send-button")[0],l=i.container.getElementsByClassName("opener")[0],d=i.container.getElementsByClassName("custom-fee")[0],p=l.getElementsByClassName("fee-info")[0],h=function(t){t.currentTarget instanceof HTMLElement&&(u&&u.classList.remove("active"),(u=t.currentTarget).classList.add("active"),c(e.coinInfo))},v=n.querySelectorAll("[data-fee]"),m=0;m<v.length;m++)v.item(m).addEventListener("click",h),"normal"===v.item(m).dataset.fee&&v.item(m).click();var y=0;l.onclick=function(){if(!(d.className.indexOf("active")>=0)){u&&u.classList.remove("active");var e=a.find(function(e){return"custom"===e.name}),t=0;if(e)e.fee&&(t=e.feePerByte);else{if(u){var n=u.getAttribute("data-fee"),r=a.find(function(e){return e.name===n});r&&0!==r.fee&&(t=r.feePerByte)}t||(t=1)}d.classList.add("active"),u=d,g(t)}};var g=function(e){var t=i.container.getElementsByTagName("input")[0];setTimeout(function(){if(t.oninput=b,e){t.value=e.toString();var n=document.createEvent("Event");n.initEvent("input",!0,!0),t.dispatchEvent(n)}t.focus()},1)},w=e.coinInfo.minFeeSatoshiKb/1e3,_=e.coinInfo.maxFeeSatoshiKb/1e3,b=function(e){window.clearTimeout(y),f.setAttribute("disabled","disabled");var t=e.currentTarget.value,n=parseInt(t);if(isNaN(n))t.length>0?p.innerHTML="Incorrect fee":p.innerHTML="Missing fee";else if(n<w)p.innerHTML="Fee is too low";else if(n>_)p.innerHTML="Fee is too big";else{p.innerHTML="Composing...";y=window.setTimeout(function(){(0,i.postMessage)(new r.UiMessage(o.RECEIVE_FEE,{type:"compose-custom",value:n}))},800)}};i.container.getElementsByClassName("back-button")[0].onclick=function(){(0,i.postMessage)(new r.UiMessage(o.RECEIVE_FEE,{type:"change-account"})),(0,i.showView)("loader")},f.onclick=function(){if(u){var e=u.getAttribute("data-fee");(0,i.postMessage)(new r.UiMessage(o.RECEIVE_FEE,{type:"send",value:e||"custom"}))}}}}},940:function(e,t,n){"use strict";t.__esModule=!0,t.requestButton=void 0;var r=n(74);t.requestButton=function(e){"ButtonRequest_ConfirmOutput"===e.code?(0,r.showView)("check-address"):"ButtonRequest_Address"===e.code?(0,r.showView)("check-address"):(0,r.showView)("follow-device")}},941:function(e,t,n){"use strict";t.__esModule=!0,t.initPermissionsView=void 0;var r,o=n(30),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),s=n(80),a=(r=s)&&r.__esModule?r:{default:r},u=n(74);t.initPermissionsView=function(e){(0,u.showView)("permissions");var t=u.container.getElementsByTagName("h3")[0].getElementsByClassName("host-name")[0],n=u.container.getElementsByClassName("permissions-list")[0],r=u.container.getElementsByClassName("confirm")[0],s=u.container.getElementsByClassName("cancel")[0],c=u.container.getElementsByClassName("remember-permissions")[0];t.innerText=a.default.getSettings("hostLabel")||a.default.getSettings("origin"),e&&Array.isArray(e.permissions)&&e.permissions.forEach(function(t){var r=function(e,t){var n=document.createElement("div");if(n.className="permission-item",""!==t){var r=(0,u.createTooltip)(t);n.appendChild(r)}var o=document.createElement("div");o.className="content";var i=document.createElement("span");i.className="info-icon";var s=document.createElement("span");return s.innerText=e,o.appendChild(i),o.appendChild(s),n.appendChild(o),n}(function(e,t){var n="";switch(e){case"read":n="Read public keys from Trezor device";break;case"read-meta":n="Read metadata from Trezor device";break;case"write":n="Prepare Trezor device for transaction and data signing";break;case"write-meta":n="Write metadata to Trezor device";break;case"custom-message":n="Run custom operations"}return n}(t,e.device.label),function(e){var t="";switch(e){case"read":t="Permission needed to load public information from your device.";break;case"write":t="Permission needed to execute operations, such as composing a transaction, after your confirmation.";break;case"custom-message":t="Development tool. Use at your own risk. Allows service to send arbitrary data to your Trezor device."}return t}(t));n.appendChild(r)}),r.onclick=function(){(0,u.postMessage)(new o.UiMessage(i.RECEIVE_PERMISSION,{remember:c&&c.checked,granted:!0})),(0,u.showView)("loader")},s.onclick=function(){(0,u.postMessage)(new o.UiMessage(i.RECEIVE_PERMISSION,{remember:c&&c.checked,granted:!1})),(0,u.showView)("loader")},c.onchange=function(e){r.innerText=e.target.checked?"Always allow for this service":"Allow once for this session"}}},942:function(e,t,n){"use strict";t.__esModule=!0,t.initConfirmationView=void 0;var r=n(30),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(21)),i=n(74);t.initConfirmationView=function(e){(0,i.showView)(e.view);var t=i.container.getElementsByTagName("h3")[0],n=i.container.getElementsByClassName("confirm")[0],s=i.container.getElementsByClassName("cancel")[0];t.innerHTML=e.label,n.onclick=function(){(0,i.postMessage)(new r.UiMessage(o.RECEIVE_CONFIRMATION,"true")),(0,i.showView)("loader")},s.onclick=function(){(0,i.postMessage)(new r.UiMessage(o.RECEIVE_CONFIRMATION,"false")),(0,i.showView)("loader")}}},943:function(e,t,n){"use strict";t.__esModule=!0,t.initBrowserView=void 0;var r=n(74);t.initBrowserView=function(e){(0,r.showView)(!e.supported&&e.mobile?"smartphones-not-supported":"browser");var t=r.container.getElementsByTagName("h3")[0],n=r.container.getElementsByTagName("p")[0];e.supported||e.mobile?e.outdated&&(t.innerText="Outdated browser",n.innerText="Please update your browser."):(t.innerText="Unsupported browser",n.innerText="Please use one of the supported browsers.")}},944:function(e,t,n){"use strict";t.__esModule=!0,t.initPassphraseOnDeviceView=void 0;var r=n(74);t.initPassphraseOnDeviceView=function(e){(0,r.showView)("passphrase-on-device"),r.container.getElementsByClassName("device-name")[0].innerText=e.device.label}},98:function(e,t){t.f=Object.getOwnPropertySymbols},99:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(187)),o=s(n(189)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}}}).default});